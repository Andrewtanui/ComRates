@{
    ViewData["Title"] = "Account Statistics";
}

<div class="container my-5">
    <div class="row">
        <!-- Sidebar Navigation -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-user-cog"></i> Account Settings</h5>
                </div>
                <div class="list-group list-group-flush">
                    <a href="@Url.Action("Settings")" class="list-group-item list-group-item-action">
                        <i class="fas fa-user"></i> Profile Information
                    </a>
                    <a href="@Url.Action("ChangePassword")" class="list-group-item list-group-item-action">
                        <i class="fas fa-lock"></i> Change Password
                    </a>
                    <a href="@Url.Action("Statistics")" class="list-group-item list-group-item-action active">
                        <i class="fas fa-chart-bar"></i> Account Statistics
                    </a>
                    <a href="@Url.Action("DeleteAccount")" class="list-group-item list-group-item-action text-danger">
                        <i class="fas fa-trash"></i> Delete Account
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
            <div class="card">
                <div class="card-header">
                    <h4><i class="fas fa-chart-bar"></i> Account Statistics</h4>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <!-- Products Statistics -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card bg-primary text-white">
                                <div class="card-body text-center">
                                    <i class="fas fa-box fa-3x mb-3"></i>
                                    <h3 class="mb-0">@ViewBag.Stats.TotalProducts</h3>
                                    <p class="card-text">Products Listed</p>
                                </div>
                            </div>
                        </div>

                        <!-- Cart Statistics -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <i class="fas fa-shopping-cart fa-3x mb-3"></i>
                                    <h3 class="mb-0">@ViewBag.Stats.CartItemsCount</h3>
                                    <p class="card-text">Items in Cart</p>
                                </div>
                            </div>
                        </div>

                        <!-- Wishlist Statistics -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card bg-danger text-white">
                                <div class="card-body text-center">
                                    <i class="fas fa-heart fa-3x mb-3"></i>
                                    <h3 class="mb-0">@ViewBag.Stats.WishlistItemsCount</h3>
                                    <p class="card-text">Wishlist Items</p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Age -->
                        <div class="col-md-6 col-lg-3">
                            <div class="card bg-info text-white">
                                <div class="card-body text-center">
                                    <i class="fas fa-calendar-alt fa-3x mb-3"></i>
                                    <h3 class="mb-0">@ViewBag.Stats.AccountAge</h3>
                                    <p class="card-text">Days Active</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Stats -->
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-info-circle"></i> Account Information</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-6">
                                            <strong>Last Login:</strong>
                                        </div>
                                        <div class="col-6">
                                            @ViewBag.Stats.LastLogin
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-6">
                                            <strong>Account Created:</strong>
                                        </div>
                                        <div class="col-6">
                                            @User.Identity.Name
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-chart-pie"></i> Activity Summary</h5>
                                </div>
                                <div class="card-body">
                                    <div class="progress mb-3">
                                        <div class="progress-bar bg-primary" role="progressbar"
                                             style="width: @(ViewBag.Stats.TotalProducts > 0 ? Math.Min(ViewBag.Stats.TotalProducts * 10, 100) : 5)%">
                                            Products: @ViewBag.Stats.TotalProducts
                                        </div>
                                    </div>
                                    <div class="progress mb-3">
                                        <div class="progress-bar bg-success" role="progressbar"
                                             style="width: @(ViewBag.Stats.CartItemsCount > 0 ? Math.Min(ViewBag.Stats.CartItemsCount * 20, 100) : 5)%">
                                            Cart: @ViewBag.Stats.CartItemsCount
                                        </div>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-danger" role="progressbar"
                                             style="width: @(ViewBag.Stats.WishlistItemsCount > 0 ? Math.Min(ViewBag.Stats.WishlistItemsCount * 15, 100) : 5)%">
                                            Wishlist: @ViewBag.Stats.WishlistItemsCount
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="mt-4">
                        <h5>Quick Actions</h5>
                        <div class="d-flex gap-2 flex-wrap">
                            <a href="@Url.Action("Index", "Products")" class="btn btn-outline-primary">
                                <i class="fas fa-eye"></i> View All Products
                            </a>
                            <a href="@Url.Action("MyCart", "Cart")" class="btn btn-outline-success">
                                <i class="fas fa-shopping-cart"></i> View Cart
                            </a>
                            <a href="@Url.Action("MyWishlist", "Wishlist")" class="btn btn-outline-danger">
                                <i class="fas fa-heart"></i> View Wishlist
                            </a>
                            <a href="@Url.Action("Create", "Products")" class="btn btn-outline-info">
                                <i class="fas fa-plus"></i> Add New Product
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>